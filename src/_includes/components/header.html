<!-- ============================================ -->
<!--                 Navigation                   -->
<!-- ============================================ -->

<header id="cs-navigation">
    <div class="cs-bottom-bar">
        <div class="cs-container">
            <a class="cs-call" href="https://www.reddit.com/r/codestitch" target="_blank">
                <picture class="cs-wrapper">
                    <img class="cs-icon" loading="lazy" decoding="async" src="/assets/images/index_hero_oval_logo.png" alt="icon">
                </picture>
                <!-- <div class="cs-info">
                    <span class="cs-header">Need help?</span>
                    <span class="cs-link-content">Reach out to us!</span>
                </div> -->
            </a>
            <!--Navigation List-->
            <nav class="cs-nav" role="navigation">
                <!--Mobile Nav Toggle-->
                <button class="cs-toggle" aria-label="mobile menu toggle">
                    <div class="cs-box" aria-hidden="true">
                        <span class="cs-line cs-line1" aria-hidden="true"></span>
                        <span class="cs-line cs-line2" aria-hidden="true"></span>
                        <span class="cs-line cs-line3" aria-hidden="true"></span>
                    </div>
                </button>
                <!-- All CodeStitch navigations use the same HTML within the cs-ul-wrapper.
                 This one has been built with eleventyNavigation in mind, so you don't need to manually set active link styles or adjust HTML whenever a new page is added.
                 Should you wish to use this way of working, just replace the .cs-ul-wrapper in the new navigation with the one below-->
                <div class="cs-ul-wrapper">
                    <ul id="cs-expanded" class="cs-ul" aria-expanded="false">
                        {% set navPages = collections.all | eleventyNavigation %}
                        {# Loop through all pages with a eleventyNavigation in the frontmatter #}
                        {% for entry in navPages %}
                            {# Define a hasChild variable to make it easier to test what links are dropdowns#}
                            {% set hasChild = entry.children.length %}

                            {# If this page is a dropdown, give it the appropriate classes, icons and accessibility attributes#}
                            <li class="cs-li {% if hasChild %} cs-dropdown {% endif %}" {% if hasChild %} tabindex="0"{% endif %}>

                                {# Similarly, if the link is active, apply the necessary classes #}
                                <a href="{{ entry.url }}" class="cs-li-link {% if entry.url == page.url %} cs-active {% endif %}">
                                    {{ entry.key }}
                                    {% if hasChild %}
                                        <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                                    {% endif %}
                                </a>

                                {# Dropdowns have another ul/li set up within the parent li. Render in the same way as a normal link #}
                                {% if hasChild %}
                                    <ul class="cs-drop-ul">
                                        {% for child in entry.children %}
                                            <li class="cs-drop-li">
                                                <a href="{{ child.url }}" class="cs-li-link cs-drop-link">{{ child.key }}</a>
                                            </li>
                                        {% endfor %}
                                    </ul>
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </nav>
            <a href="" class="cs-button-solid">Get a Free Quote</a>
        </div>
    </div>
</header>